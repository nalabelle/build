name: "Bump version"

on:
  workflow_call:
    inputs:
      workdir:
        required: true
        type: string

jobs:
  bump-version:
    if: "!startsWith(github.event.head_commit.message, 'bump:')"
    runs-on: ubuntu-latest
    name: "Bump version and create changelog with commitizen"
    steps:
      - uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11 # v4
      - name: Create bump and changelog
        run: commitizen/bin/release-cz-bump
        with:
          INPUT_PROJECT_PATH: ${{ inputs.workdir }}
          INPUT_DEBUG: "true"
            #- name: Release
            #  uses: softprops/action-gh-release@v1
            #  with:
            #    body_path: "body.md"
            #    tag_name: "${{ env.REVISION }}"
            #  env:
            #    GITHUB_TOKEN: "${{ secrets.GITHUB_TOKEN }}"
